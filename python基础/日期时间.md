## 日期和时间相关操作

- #### 计算相隔n天的时间

  ```python
  import datetime
  import time
  
  
  def choice_date(day, str_date=None):
      """
      基于某个时间的时间函数，day为正数表示day天后；为负数表示day天前
      如果str_date=None，则基于当前时间；否则是基于str_date这个时间
      """
      now = datetime.datetime.now()
      hope_date_format = now + datetime.timedelta(days=day)
      hope_date = hope_date_format.strftime('%Y-%m-%d %H:%M:%S')
      if str_date:
          tem = time.mktime(time.strptime(str_date, '%Y-%m-%d %H:%M:%S'))
          x = time.localtime(tem)
          date = datetime.datetime(x.tm_year, x.tm_mon, x.tm_mday, x.tm_hour, x.tm_min, x.tm_sec)
          hope_date = date + datetime.timedelta(days=day)
      return hope_date
  
  
  if __name__ == '__main__':
      r1 = choice_date(1, '2020-7-6 11:21:30')	# 2020-07-07 11:21:30
      r2 = choice_date(1)		# 2020-09-05 09:21:28
      r3 = choice_date(-1)	# 2020-09-03 09:21:28
  ```